
  <p-card [style]="{width: '90%'}" styleClass="justify-content-center align-items-center">
          
      <h3 class="ml-3 mt-0">Liste des projets</h3>
       
      <p-table class="p-table" [value]="projets" [paginator]="true" [rows]="5">
          <ng-template pTemplate="header">
            <tr>
              <th>Client</th>
              <th>Projet</th>
              <th>Auditeurs</th>
              <td>Audit</td>
              <!--th>Action</th-->
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-projet>
            <tr>
              <td><img [src]="'http://localhost:3000/' + projet.client?.logo" alt="" style="width: 50px; height: 50px;"></td>
              <td>{{ projet.designation }}</td>
              <td><button pButton pRipple icon="pi pi-users" class="p-button-rounded del-button" (click)="handleAffectation(projet)"></button></td>
              <td><button pButton pRipple icon="pi pi-clipboard" class="audit-btn p-button-secondary" (click)="showAuditModal(projet)"></button></td>
              <!--td><button pButton pRipple icon="pi pi-trash" (click)="handleDeleteProjet(projet)" style="color: white;" class="del-button p-button-rounded" style="margin-right: 15px;"></button>
              <button severity="secondary" pButton pRipple icon="pi pi-pencil" class="p-button-info p-button-rounded" (click)="handleEditProjet(projet)"></button></td-->
            </tr>
          </ng-template>
        </p-table>
      </p-card>
      <!--app-user-update
       [visible]="visible"
       [selectedUser]="selectedUser"
       (clickClose)="onCancel($event)"
       (clickAdd)="onSave($event)"
       >
      </app-user-update-->
      
      
    
    <p-confirmDialog header="Delete" icon="pi pi-exclamation-triangle"></p-confirmDialog>
    <p-toast position="bottom-right"></p-toast>
    <!--app-projet-norme
      [showModal]="showModal"
    >

    </app-projet-norme-->
    <p-dialog header="Sélectionner Norme Adoptée" [(visible)]="displayAuditModal" [modal]="true" [closable]="false" [style]="{ height: '300px',width:'570px'}">
      <div class="p-fluid">
          <div class="p-field">
              <label for="normeAdopte">Norme Adoptée</label>
              <p-dropdown [options]="normesAdoptees" [(ngModel)]="selectedNormeAdopte" optionLabel="norme.designation" placeholder="Selectionner la norme.."></p-dropdown>
          </div>
          <div class="p-field" style="margin-top: 17px; display: inline-flex;">
              <button pButton label="Auditer" (click)="redirectToAudit()" style="margin-bottom: 10px;"></button>
              <button pButton label="Annuler" class="p-button-secondary" (click)="displayAuditModal=false"></button>
          </div>
      </div>
  </p-dialog>

  <app-affectation
    [showAuditors]="showAuditors"
    [selectedPro]="selectedPro"
  >

  </app-affectation>

        