<p-dialog header="Auditeurs" [modal]="true" [(visible)]="showAuditors"
          [style]="{ height: '600px', width: '770px' }"
          styleClass="justify-content-center align-items"
          (onHide)="onDialogHide()">    <div class="p-toolbar-group-start" style="margin-bottom: 20px;">
        <button
          pButton
          pRipple
          label="New"
          style="margin-right: 5px;"
          icon="pi pi-plus"
          class="p-button-info mr-2"
          (click)="showAddForm = true" 
        ></button>
      </div>
    <!-- Formulaire pour ajouter une nouvelle affectation -->
    <div *ngIf="showAddForm" class="add-form">
        <app-affectation-add [selectedPro]="selectedPro" (clickAdd)="addAffectation($event)" (clickClose)="onCancel()"></app-affectation-add>
        
    </div>

    <h4 class="ml-3 mt-2">Liste des Auditeurs</h4>
    
        
        <p-table [value]="affectations" [paginator]="true" [rows]="5">
            <ng-template pTemplate="header">
            <tr>
                <th>Auditeur</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
            </ng-template>
            <ng-template pTemplate="body" let-affectation>
            <tr>
                <td>{{ affectation.auditeur.lastName }} {{ affectation.auditeur.firstName }}</td>
                <td>
                    <select name="" id="droit" [(ngModel)]="affectation.droit" class="form-control ml-2" placeholder="Droit..">
                        <option value="">{{affectation.droit}}</option>
                        <option *ngFor="let droit of droits" [value]="droit">{{droit}}</option>
                    </select>
                   
                    <!--p-dropdown 
                  [options]="droits" 
                  optionLabel="affectation.droit"
                  [(ngModel)]="affectation.droit"
                  placeholder="SÃ©lectionner le droit..">
                </p-dropdown-->
                </td>
                <td>
                    <button  pButton pRipple icon="pi pi-trash" class="del-button p-button-secondary" (click)="handleDeleteAffectation(affectation)" style="margin-right: 15px;"></button>
                    <button  pButton pRipple icon="pi pi-pencil" class="del-button p-button-info" (click)="handleEditAffectation(affectation)" style="margin-right: 15px;"></button>
                </td>
            </tr>
            </ng-template>
        </p-table>
</p-dialog>